<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
    <title>ç¸ºé¡”ï½µï½µç¸ºä¹â€³ç¸ºï½®é©¥Œ</title>
    <style>
      body{
        background: #d5ffaa;
        font-family: Meiryo;
      }

      #title {
        width: 300px;
        padding: 30px;
        text-align: center;
        margin: 30px auto;
      }

      #question {
        text-align: center;
        margin: 0 auto;
      }

      #center_container {
        width: 1300px;
        height: 1000px;
        background: #d5ffaa;
        margin: 0 auto;
      }

      #paint_container {
        width: 960px;
        background: #ffffff;
        margin: 30px 0px;
      }

      .paint{
        float: left;
        width: 300px;
        height: 300px;
      }

      #paint_p1 {
        background: #dddd00;
          margin: 0px 10px;
      }

      #paint_p2 {
        background: #dd00dd;
          margin: 0px 10px;
      }

      #paint_p3 {
        background: #00dddd;
          margin: 0px 10px;
      }

      #paint_p4 {
        background: #777777;
      }

      #player_container {
        background: #ff00ff;
        width: 300px;
        height: 200px;
        text-align: center;
        margin: 10px 100px;
      }

      #player_list {
        background: #ffffff;
        width: 150px;
        margin: 20 auto;
        vertical-align: middle;
      }
        #answer_cotainer{
        background: #afffff;   
        width: 1000px;
        height: 200px;
        text-align: center;
        float: none;
        margin: 10px 0px;
            
        }

        p.answer{zoom: 250%;}
        
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript">


      var p_flag = true; // é¬®ï½«ç¹ï½¼é€…ï½²è«¤å‘µï½«ï½¤è«›åŒ»õ€‡²é¬®ï½¯ç¹§ï½­ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹õ€ˆ ï½¬ï½®ç¸²å¾Œõ€‡²ç¹ï½¥õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½¹é¬©å¸™€ç‘šï½­å¼±õ€‡²ç¹§ï½¹ç¹§ï½·é¬©ï½¥ç¹ï½»ç¹§ï½¯ç¹§ï½­ç¹ï½»ç¹§ï½±ç¹ï½»ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½¼

      $(function() {

      var offset = 5;
      var startX;
      var startY;
      var flag = false;  
      var canvas = document.getElementById("mycanvas");
      if ( canvas.getContext ) {
      var context = canvas.getContext('2d');
      context.lineWidth = 2;                          
      }

      $('canvas').mousedown( function(e) {
      if ( p_flag ) {
      flag = true;
      startX = e.pageX - $(this).offset().left - offset;
      startY = e.pageY - $(this).offset().top - offset;
      return false; // for chrome
      }
      });

      $('canvas').mousemove( function(e) {
      if ( flag ) {
      var endX = e.pageX - $('canvas').offset().left - offset;
      var endY = e.pageY - $('canvas').offset().top - offset;
      context.beginPath();  
      context.moveTo( startX, startY );
      context.lineTo( endX, endY );  
      context.stroke();
      startX = endX;
      startY = endY;
      }
      });

      $('canvas').on('mouseup', function() {
      flag = false;
      });

      $('canvas').on('mouseleave', function() {
      flag = false;
      });
      
      $('#color li').click( function() {
      context.strokeStyle = $(this).css('background-color');
      if( context.strokeStyle == "#ffffff" ) {
      context.lineWidth = 10;
      } else {
      context.lineWidth = 2;
      }
      });

      $('#clear').click( function(e) {
      e.preventDefault();
      context.clearRect( 0, 0, $('canvas').width(), $('canvas').height() );
      });
      
      $('#send').click( function(e) {
      sendImage();
      });

      });

      function endPaint() {

      p_flag = false;

      /////////// é¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½§é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡é¬®ï½¦ç¹ï½§é™·é ‘èª“ç¹§ï½¹ç¹ï½¼canvasé¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½©é¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½¤é¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½£é¬®ï½¯è­ï½¢ç¹§ï½¹ç¹§ï½»õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½»é¬®ï½¯è®“ç¿«ã—ç¹§ä»£ã›ç¹§ï½¹ç¹ï½»ç¹§ï½© ////////////

      }

      
      function getXHR() {
      var req;
      try {
      req = new XMLHttpRequest();
      } catch(e) {
      try {
      req = new ActiveXObject("Msxml2.XMLHTTP");
      } catch(e) {
      req = new ActiveXObject("Microsoft.XMLHTTP");
      }
      }
      return req;
      }

      var count = 30;
      timerID = setInterval('countDown()', 1000);

     
      function printCount() {
      var rest = document.getElementById("rest_time");
      rest.innerHTML = "é¬®ï½«ç¹§ï½±ç¹ï½»ç¹§ï½½é«£è¼”ãŒéš´å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»" + count + "kljl";
      }


      function countDown() {
      count--;
      printCount();
      if( count == 0 ) // é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½©é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½²é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½¦é¬©å¸™€ç‘šï½­ä¸»õ€‚è®“æ»„Î”è¬«å¸ï½©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½²é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½¦é¬¯ï½©è¬³ï½¾ç¹§ï½¹ç¹§ï½£é©›ï½¢ç¹§ï½¡õ‚…šï½«é«´æ‡Šõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½³ç¹ï½»
      {
      // é¬¯ï½¨ç¹§ï½»é™‹ï½¹ç¹ï½»ç¹§ï½¹ç¹§ï½¹ç¹ï½»ç¹§ï½µé¬®ï½¯ç¹§ï½­é«®åŒºï½¨ç¿«ã†ï¾ƒï½·é©•ï½¶è¬«ï½¾ç¹§ï½¹ç¹§ï½¹õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½¯ç¹§ï½­õ‚…šï½«èŸ‹ï½¶ç¹ï½»ç¹§ï½¹ç¹ï½»ç¹ï½²é¬¯ï½¨ç¹§ï½»õ‚…šï½«èœ´ï½³+é¬®ï½«ç¹ï½¼é€…ï½²è«¤å‘µï½«ï½¤è«›åŒ»õ€‡²é¬¯ï½©èœæ»“ç‰’éš°õ€”Šã„õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½¥õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ç¢ï½«ï½¯ç¹§ï½­õ‚…šï½«èŸ‹ï½¶ç¹ï½»ç¹§ï½¹ç¹ï½»ç¹ï½²é¬¯ï½¨ç¹§ï½»õ‚…šï½«èœ´ï½³ 
      sendImage();
      
      }
      }


      function sendImage() {

      var req = getXHR();
      var canvas = document.getElementById("mycanvas");   

      // é¬¯ï½¨ç¹§ï½»é™‹ï½¹ç¹ï½»ç¹§ï½¹ç¹§ï½¹ç¹ï½»ç¹§ï½µé¬®ï½¯ç¹§ï½­é™·ä»£õ€‡²ç¹§ï½¹ç¹§ï½¯é©—å¶ã‹ç¹å¸›è™«ï¾ç¢‘ï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½·é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡é¬¯ï½ªç¹ï½¼é«®å†¶€€e64é¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½©é¬®ï½¯è®“ç¿«ã•ç¹§ï½¹é™‹ï½»ç¸²õ€‚¨ï½¬ï½©ç¹§ï½§ç¹ï½»ç¸²
      var base64 = canvas.toDataURL('image/png');
      imgdata = base64.replace('data:image/png;base64,','').split("+").join("-").split("/").join("_");
      // é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½´è¬‡å€¥ã›ç¹ï½»õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½«é¬®ï½«ç¹§ï½¤ç¹ï½»ç¹§ï½­é«£è¼”ãŒéš´ç¦ï½¾õ‚…šï½«ç¸²é¦´ï½«ï½¯è®“ç¿«ã•ç¹§ï½¹é¨¾è¼”õ€‡²é«¯æ‡ˆï½»ã‚…ã›ç¹§ï½¡é¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½©é¬®ï½¯è²Šã‚…ã›ç¸²ç¢å¿èŸ¶ï½·é–»ï½¸ç¹ï½»ç¹§ï½¡é¬©é˜ªãŒç¹ï½»ç¹§ï½³é«®ä¹õ€‡²ç¹ï½»è®“ï½£ï¾æ–õ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹õ€ˆ ï½©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½­é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½¡é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½¦é¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½§é¬®ï½¯è®–ï½¸ç¹§ï½¹ç¹§ï½¦é«¯æ¨Šï½ºå‡ï½½ä»£õ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½»õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½¥
      req.onreadystatechange = function() {
      var err = document.getElementById("log");
      if( req.readyState == 4 ) {  // é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½¯è®–ï½¸ç¹§ï½¹ç¹§ï½¦é«¯æº·æ¡ç¹§ï½¹ç¸²ã‚å°‘èŸ’ï½¶ç¹ï½»ç¹§ï½³õ‚…šï½«é«£å‹Ÿ€ï½©è«¤å¼±õ€‡²ç¹§ï½»
      if( req.status == 200 ) {   // é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½«ç¹ï½¼é™Ÿè¼”€ã‚…õ€‡²ç¹§ï½µé™·ï½¥è¬«ï½¾ç¹§ï½¹ç¹§ï½¤ç¹ï½»ç¹ï½»
      err.innerHTML = req.responseText;   // rubyé¬®ï½¯ç¹§ï½­ç¹§ï½¦è«›ï½¾ç¹ï½£é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½£é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½¥é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½·é¬®ï½¯ç¹§ï½­õ‚…šï½«èŸ‹ï½¶ç¹ï½»ç¹§ï½¹ç¹ï½»ç¹§ï½³é¬®ï½¯ç¹§ï½­é™æº˜Î™
      } else {                    // é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½¯è®“ç¿«ã—ç¹§ä»£ã›ç¹§ï½¹ç¹ï½»ç¹§ï½¢é¬®ï½«ç¹ï½¼ç¹ï½»ç¹§ï½£ç¹ï½»
      err.innerHTML = req.responseText;   // rubyé¬®ï½¯ç¹§ï½­ç¹§ï½¦è«›ï½¾ç¹ï½£é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½£é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½¥é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½·é¬®ï½¯ç¹§ï½­õ‚…šï½«èŸ‹ï½¶ç¹ï½»ç¹§ï½¹ç¹ï½»ç¹§ï½³é¬®ï½¯ç¹§ï½­é™æº˜Î™
      }
      } else {
      
      }
      
      }
      
      // é¬¯ï½¨ç¹§ï½»é™‹ï½¹ç¹ï½»ç¹§ï½¹ç¹§ï½¹ç¹ï½»ç¹§ï½µé¬®ï½¯ç¹§ï½­é™·ä»£õ€‡²ç¹§ï½¹ç¹§ï½¯é©—å¶ã‹ç¹å¸›è™«ï¾ç¢‘ï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½·é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é©•ï½¶è¬«ï½¾ç¹§ï½¹ç¹§ï½¹õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²‚
      req.open("POST", "/cgi-bin/receive_image.rb", true);
      req.setRequestHeader("Content-type", 'image/png');
      req.send( imgdata ); 

      // é¬¯ï½¨ç¹§ï½»é™‹ï½¹ç¹ï½»ç¹§ï½¹ç¹§ï½¹ç¹ï½»ç¹§ï½µé¬®ï½¯ç¹§ï½­é™·ä»£õ€‡²ç¹§ï½¹ç¹§ï½¯é©—å¶ã‹ç¹å¸›è™«ï¾ç¢‘ï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½·é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é©•ï½¶è¬«ï½¾ç¹§ï½¹ç¹§ï½¹õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½¯è²…ï½·ç¸²æ‚Ÿæ’ƒç¹ï½»anvasé¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½©é¬®ï½«ç¹ï½¼é€…ï½²è«¤å‘µï½«ï½¤è«›åŒ»õ€‡²é¬®ï½¯ç¹§ï½­õ‚…šï½«èŸ‹ï½¶ç¹ï½»ç¹§ï½¹ç¹ï½»ç¹§ï½³é¬®ï½«ç¹§ï½¨é™æº˜ã†ç¹ï½»ç¹§ï½¹ç¹ï½»ç¹ï½»é¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½§é¬©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½«é««ï½ªç¹§ï½¢õ‚…šï½­èŸ’ï½¶é«¢ï½§ç¹§ï½¤ç¹ï½»ç¹§ï½¯ç¹ï½»ç¹§ï½³õ‚…šï½«é©ï½¯è«›õ€ˆšã‹è¨âˆ¬ï½±ï½ªç¹ï½»ç¹§ï½¯ç¹ï½»ç¹§ï½³é«¯ï½·ç¹§ï½­ç¹ï½»ç¹§ï½«õ‚…šï½­èŸ’ï½¶ç¹ï½»
      endPaint();
      
      // é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½©é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½²é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½¦é¬©å¸™€ç‘šï½­ä¹—õ€“ç¹§ï½¹ç¹§ï½³ç¹ï½»ç¹ï½»é««ï½¨ç¹§ï½¦é™·ä»£õ€‡³ç¹ï½»ç¹§ï½¢õ‚…šï½«ç¸ºèˆŒõ€‡²ç¹§ï½¹ç¹ï½»ç¸²Œ
      printCount();
      clearInterval( timerID );

      }   

      // é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é©•ï½¶è¬«ï½¾ç¹§ï½¹ç¹§ï½¹õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½©å¸™€ç‘šï½­å¼±õ€‡²ç¹§ï½¢é©ï½µç¹§ï½³ç¹ï½»ç¸²ã‚‹ï½©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½¦é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡é«¯ï½·ç¹§ï½µé™œæºï½»ã‚…ã›ç¹ï½£ç¹ï½»ç¹§ï½»é¬©é˜ªãŒç¹ï½»ç¹§ï½³é«¯ï½·è¨å£¹ã›ç¹§ï½¢é««ï½¨ç¹§ï½¦õ‚…šï½«é—¥ï½¼éš°ï½¦ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½¨é¬®ï½¯ç¹§ï½­ç¹ï½»ç¹§ï½­é«¯ä¹ã“ç¹ï½»ç¹§ï½µé©•ï½¶é¬†ä»£õ€‡²ç¸²ç‘šï½«ï½¤èŸ‡ï½¿õ‚‰„å³¨õ€‡²ç¹§ï½¹ç¹ï½²é¬¯ï½¨ç¹§ï½»õ‚…šï½«é€æ–ãè«›ï½¾õ‚‰„å³¨õ€‡²é˜ï½©Eç¹§ï½±ç¹ï½»ç¹§ï½¡é«¯æ»“å©ç¹õ€ˆ›ï½¼å£¹ã›ç¹§ï½¹ç¹ï½»
      function getOdai() {

        req = getXHR();

        // é¬¯ï½¯ç¹ï½§ç¹ï½»ç¹§ï½¢é««ï½¶è¬šï½µç¹§ï½¹ç¹§ï½©é¬¯ï½©è²…ï½½ç¸²æ¢§æ±šç¹§ï½¹ç¹ï½¥é™ï½¶ç¹§ï½«ç¹ï½»ç¹§ï½µç¹æº˜ãé«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½©é˜ªãŒç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½§é¬®ï½¯ç¹§ï½­õ‚…šï½«èŸ‹ï½¶ç¹ï½»ç¹§ï½¹ç¹ï½»ç¹ï½²é¬¯ï½¨ç¹§ï½»õ‚…šï½«èœ´ï½³
        req.onreadystatechange = function() {
          var question = document.getElementById("question");

          if( req.readyState == 4 ) {  // é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½¯è®–ï½¸ç¹§ï½¹ç¹§ï½¦é«¯æº·æ¡ç¹§ï½¹ç¸²ã‚å°‘èŸ’ï½¶ç¹ï½»ç¹§ï½³õ‚…šï½«é«£å‹Ÿ€ï½©è«¤å¼±õ€‡²ç¹§ï½»
              if( req.status == 200 ) {   // é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½«ç¹ï½¼é™Ÿè¼”€ã‚…õ€‡²ç¹§ï½µé™·ï½¥è¬«ï½¾ç¹§ï½¹ç¹§ï½¤ç¹ï½»ç¹ï½»
                question.innerHTML = req.responseText; 
              } else {                    // é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½¯è®“ç¿«ã—ç¹§ä»£ã›ç¹§ï½¹ç¹ï½»ç¹§ï½¢é¬®ï½«ç¹ï½¼ç¹ï½»ç¹§ï½£ç¹ï½»
               question.innerHTML = req.status;
              }
          } else {
            question.innerHTML = "é¬¯ï½¯ç¹§ï½£ç¹ï½»ç¹§ï½»é«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½«ï½£è›¹õ€’ã›ç¹§ï½¦õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½¥é¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½µé¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½µé¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½µ";
          }
        }
        
        // é¬©å¸™€å¾Œõ€‡²ç¹§ï½¡õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½ªé¬©å¸™€ç‘šï½­å¼±€å¾Œõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½·é¬©å¸™€ç‘šï½­å¯‚€ ç¹õ€ˆ õ€µé«®âˆ«è‘µç¹ï½»ç¹§ï½¯ç¹ï½»ç¹§ï½³õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½§é¬¯ï½¯ç¹ï½§ç¹ï½»ç¹§ï½¢é««ï½¶è¬šï½µç¹§ï½¹ç¹§ï½©é¬¯ï½©è²…ï½½ç¸²æ¢§æ±šç¹§ï½¹ç¹ï½¥é™ï½¶ç¹§ï½«ç¹ï½»ç¹§ï½µç¹æº˜ãé«¯æ§­€å¾Œõ€‡²ç¹§ï½µõ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹§ï½½õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¸²ã‚‹ï½©å¸™€å¾Œõ€‡²ç¹§ï½¡é«¯æ˜´ãéš´å–å¾—ç¹§ï½¹ç¹§ï½±éš°ç¢ ä»£ã†õ‚‰„‹
        req.open("GET", "http://v157-7-113-64.z1d13.static.cnode.jp/odai.rb?=a", true);
        req.send(null);
      }
        




function XMLHttpRequestCreate(){
	try{
		return new XMLHttpRequest();
	}catch(e){}
	try{
		return new ActiveXObject('MSXML2.XMLHTTP.6.0');
	}catch(e){}
	try{
		return new ActiveXObject('MSXML2.XMLHTTP.3.0');
	}catch(e){}
	try{
		return new ActiveXObject('MSXML2.XMLHTTP');
	}catch(e){}

	return null;
}

function Send_Answer(){

        req = getXHR();
        // é«±æ§«é…”è­›æ»„€å£»ï½¿ï½¡ç¸ºï½®èœƒï½¦é€…†
        req.onreadystatechange = function() {


          if( req.readyState == 4 ) {  // é¨¾å£»ï½¿ï½¡è³å¾¡ï½ºõ€‘‘å‡¾
              if( req.status == 200 ) {   // é¨¾å£»ï½¿ï½¡è¬Œä»™ç²¥
                document.answerAREA.Abox.value = req.responseText;
              } else {                    // é¨¾å£»ï½¿ï½¡èŸï½±è¬¨—
                document.answerAREA.Abox.value = req.status;
              }
          } else {
            document.answerAREA.Abox.value = "wait..."
          }
        }

        // ç¹§ï½µç¹ï½¼ç¹èˆŒâ†’ç¸ºï½®é«±æ§«é…”è­›æ»„€å£»ï½¿ï½¡ç¹§å¸å¹•èŸ‹‹
        req.open("GET", "/cgi-bin/test_hello.rb?name=" +
          encodeURIComponent(document.answerAREA.input.value), true);
        req.send(null);
      }






    </script>
    
  </head>

  <body>

    <div id = "title">
      <h1>ç¸ºé¡”ï½µï½µç¸ºä¹â€³ç¸ºï½®é©¥Œ</h1>
    </div>

    <h2>
      <div id="question">
	<!-- é¬©é˜ªãŒç¹ï½»ç¹§ï½³é«£æ–ã…õ‚…šï½«ç¸ºèˆŒõ€‡²ç¹§ï½¹ç¹ï½»ç¸²ã‚‹è¾§èœæº˜õ€‡²ç¹ï½£é¬®ï½£è›¹õ€’ã›ç¹§ï½¦õ‚…šï½­èŸ’ï½¶ç¹ï½»ç¹ï½¥é¬¯ï½®ç¹§ï½¨õ‚…šï½«èœˆõ€”Šõ€‡²ç¹§ï½¹ç¹ï½»ç¹§ï½©é¬©é˜ªãŒç¹ï½»ç¹§ï½³é««ï½°é€ï½²ç¹§ï½µç¹§ï½¯ç¹§ï½ªé€…ï½ºï¾æ–õ€‡²ç¹§ï½¡é«¯ï½·ç¹§ï½½ç¹ï½»ç¹ï½»è¿¹ï½¾õ‚‰„ç¦ï½¿Eç¹§ï½¨é¬®ï½«ç¹ï½¼õ‚…šï½«è¬–‘ -->
      </div>
    </h2>



    <div id = "center_container">
        <center>
              <div id = "paint_container">
	<div id = "paint_p1" class = "paint">
	  picture 1
	</div>
	<div id = "paint_p2" class = "paint">
	  picture 2
	</div>
	<div id = "paint_p3" class = "paint">
	  picrure 3
	</div>
      </div>
            <br><br><br><br><br><br><br><br><br><br><br><br><br>
            <div id="answer_cotainer">
            <form name="answerAREA">
        <p class=answer>
     <INPUT type="text" size=16 style="text-align:center;font-size:xx-large;" id="Abox" disabled="disabled">
         <br>
     <INPUT type="text" size=10 style="font-size:medium;" id="input">
     <INPUT type="button" onclick="Send_Answer()" value="è—æ¨’ï½­æ–â˜†ç¹§‹">
         </p>
    </form>
    
        
   
                  
        </div>
      


     
            </div>
        </center>

</html>
