<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
    <title>お絵かきの里</title>
    <style>
      body{
        background: url(Pencle2.png);
        font-family: Meiryo;
      }

      #titleframe{

      background: #004400;
      width: 1100px;
      padding: 30px;
      text-align: center;
      margin: auto auto;
      }

      #title {
        width: 380px;
      background: #93FFAB;
        padding: 5px;
        text-align: center;
        margin: 5px auto;
      zoom: 200%;
      }

      #question {
        text-align: center;
        margin: 0 auto;
      }

      #center_container {
        margin: 0 auto;
      }
      

      #paint_container_frame{

      width: 1200px;
      height: 400px;
      background: #a0522d;
      padding: 20px 0px; 

      }

      #paint_container {
        width: 1150px;
        height: 350px;
        background: #00ff00;
        margin: 25px 25px;
      }

      .paint{
        float: left;

      }

      #paint_p1 {
        background: #dddd00;
          margin: 25px 25px;
   
      }

      #paint_p2 {
        background: #dd00dd;
          margin: 25px 15px;
      
      }

      #paint_p3 {
        background: #00dddd;
          margin: 25px 25px;

      }

      #answer_cotainer{
        background: #ffffff;
        height: 1000px;
        width: 1000px;
      }

      p.answer{zoom: 250%;}

      canvas {
      width: 320px;
      height: 270px;
        margin: 0;
        border: 3px solid #ccc;
      }

      paint ul {

      }
        
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript">

      function getOdai() {

         var req = getXHR();
         var question = document.getElementById("question");

         req.onreadystatechange = function() {
          if( req.readyState == 4 ) {  // 通信完了時
              if( req.status == 200 ) {   // 通信成功
                question.innerHTML = req.responseText;
              } else {                    // 通信失敗
                question.innerHTML = req.status;
              }
          } else {
            question.innerHTML = "通信中・・・";
          }
        }
}

      <!-- XMLHttpRequest オブジェクトを取得するためのユーザ定義関数 -->
      function getXHR() {
         var req;
         try {
           req = new XMLHttpRequest();
         } catch(e) {
           try {
              req = new ActiveXObject("Msxml2.XMLHTTP");
           } catch(e) {
              req = new ActiveXObject("Microsoft.XMLHTTP");
           }
         }
         return req;
      }

      function Send_Answer() {
           var xhr=getXHR();
           xhr.onreadystatechange = function(){
      alert(xhr.readystate);
           if(xhr.readystate==4){

                 var resp=xhr.responseText;
                 alert(resp);
                 document.answerAREA.Abox.value=resp;
            }
         };
         var stext = document.answerAREA.input.value;
         var url = "/cgi-bin/ans.rb";
      alert(stext);
         xhr.open("GET",url+"?answer="+stext, true);
         xhr.send(null);
      }


</script>

   
    
  </head>
  
  <body>
    <center>
      <div id = "titleframe">
	<div id = "title">
      <img id="tree1" src="tree04.gif" width="90px" height="70px" align="left"> 
      <img id="tree2" src="tree04.gif" width="80px" height="70px" align="right">
      <h1>お絵かきの里</h1>
    </div>
      </div>
    </center>
    <h2>
      <div id="question">
      </div>
    </h2>
    <center>    
      <div id = "center_container">
	<div id = "paint_container_frame">
          <div id = "paint_container">
	    <div id = "paint_p1" class = "paint" width="320px" height="270px">
	      <canvas id="mycanvas1">
	    </div>
	    <div id = "paint_p2" class = "paint" width="320px" height="270px">
	      <canvas id="mycanvas2">
	    </div>
	    <div id = "paint_p3" class = "paint" width="320px" height="270px">
	      <canvas id="mycanvas3">
	    </div>
	  </div>
	</div>
	
	<div id="answer_container">
          <form name="answerAREA">
            <p class=answer>
	      <INPUT type="text" size=16 style="text-align:center;font-size:xx-large;" id="Abox" disabled="disabled">
              <br>
	      <INPUT type="text" size=10 style="font-size:medium;" id="input">
	      <INPUT type="button" onClick="Send_Answer()" value="回答する">
            </p>
	  </form>
          <!-- -->
	  
	</div> 
      </div>
    </center>	  
  </body>
</html>
